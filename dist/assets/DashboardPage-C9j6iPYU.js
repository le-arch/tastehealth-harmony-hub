import{c as K,r as b,b as le,J as X,j as e,B as U,s as ee}from"./index-wx0cpdQ-.js";import{m as ae,A as qe,B as $e,L as ke,a as Ve,T as Ce,b as Ze,c as Qe,P as Ye,C as Ke}from"./ProfileSidebar-CUX9nyIG.js";import{C as se,a as re,b as te,d as ne,e as Je}from"./card-Ks5reE5D.js";import{T as Se,a as Q,b as Y}from"./tabs-kHd3UHHY.js";import{S as Te}from"./scrollable-tabs-De-o2eb7.js";import{S as Xe,P as Z}from"./Confetti-EdMnZRZX.js";import{T as ea}from"./timer-CaAfZ7c4.js";import{C as aa}from"./clock-DvXeqAMP.js";import{g as sa,s as ra,L as ta,C as na,X as ia,Y as la,a as oa,P as ca,B as da}from"./ProgressTracker-Bt7RUIO4.js";import{D as ma}from"./droplet-CSqbUKjM.js";import{C as ha}from"./radio-group-Sl-6f1Ib.js";import{N as ua}from"./NutritionProgressWheel-Dkyf5HFB.js";import{u as he}from"./mobile-DDjMNcjN.js";import{S as W}from"./skeleton-DM5AfKIJ.js";import{A as me}from"./award-DAs12a83.js";import{R as xa,T as fa,a as ga}from"./RewardSystem-Dmx-RgDF.js";import{H as pa}from"./Combination-C0y2sNL0.js";import{T as va}from"./textarea-DIE75VUw.js";import{s as ue}from"./SupabaseClient-C5AFRzKB.js";import{C as ya}from"./ChallengeCreator-DAZWG7kY.js";import"./index-CjjoUzqA.js";import"./Logo-HzuToWv5.js";import"./index-DgvYHQCl.js";import"./chevron-left-CyC_tzUw.js";import"./chevron-right-CoqZHP9k.js";import"./index-Cs8e_-Nm.js";import"./input-DlubX1PJ.js";import"./label-BLnSVJrc.js";import"./dialog-iH9WTBjz.js";import"./select-Dvj3AB60.js";import"./chevron-down-ChOtW655.js";import"./dumbbell-CjF3jcuT.js";import"./flame-NaXfIesf.js";import"./activity-DWVvm9Pp.js";import"./plus-Ci3g5hd-.js";import"./chart-pie-Bs8iT_Ce.js";import"./save-Cw9tneAB.js";import"./checkbox-9RmuQjIw.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=K("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=K("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=K("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=K("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=K("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=K("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=K("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=K("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),de=["Preparation is the key to success!","Great meals require patience and time","You're creating health with every meal you prepare","Cooking with love provides food for the soul","Good food choices are good investments","The best meals are made with care and time","Cooking is love made visible","Your body deserves the best fuel possible"],Ca=()=>{const[c,n]=b.useState(15),[l,k]=b.useState(0),[g,v]=b.useState(!1),[S,_]=b.useState(15),[h,I]=b.useState(de[0]),[y,r]=b.useState(!1),{language:w}=le(),L=c*60+l,A=S*60,B=L/A*100,j={en:{title:"Meal Prep Timer",minutesLabel:"Minutes",startTimer:"Start Timer",pauseTimer:"Pause",resetTimer:"Reset",completed:"Completed!",startNew:"Start New Timer"},fr:{title:"Minuteur de PrÃ©paration de Repas",minutesLabel:"Minutes",startTimer:"DÃ©marrer",pauseTimer:"Pause",resetTimer:"RÃ©initialiser",completed:"TerminÃ© !",startNew:"Nouveau Minuteur"}},E=j[w]||j.en;b.useEffect(()=>{let O=null;return g&&(c>0||l>0)?O=setInterval(()=>{if(l===0){if(c===0){clearInterval(O),v(!1),r(!0),X.success(E.completed);return}n(c-1),k(59)}else k(l-1);if((c*60+l)%30===0){const $=Math.floor(Math.random()*de.length);I(de[$])}},1e3):!g&&l!==0&&O&&clearInterval(O),()=>{O&&clearInterval(O)}},[g,c,l,E.completed]);const u=()=>{!g&&(c>0||l>0)&&(v(!0),r(!1))},C=()=>{v(!1)},R=()=>{v(!1),n(S),k(0),r(!1)},q=O=>{const $=O[0];_($),n($),k(0)};return e.jsxs(se,{className:"w-full",children:[e.jsx(re,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:e.jsxs(te,{className:"text-md font-medium flex items-center",children:[e.jsx(ea,{className:"mr-2 h-5 w-5 text-orange-500"}),E.title]})}),e.jsxs(ne,{className:"space-y-4",children:[!g&&!y?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex justify-between",children:e.jsxs("span",{className:"text-sm font-medium",children:[E.minutesLabel,": ",S]})}),e.jsx(Xe,{min:1,max:60,step:1,value:[S],onValueChange:q})]})}):null,e.jsxs("div",{className:"text-center",children:[y?e.jsxs(ae.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"flex flex-col items-center",children:[e.jsx(wa,{className:"h-16 w-16 text-green-500 mb-2"}),e.jsx("span",{className:"text-2xl font-bold text-green-500",children:E.completed})]}):e.jsxs(ae.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"flex flex-col items-center",children:[e.jsx(aa,{className:"h-12 w-12 mb-2"}),e.jsxs("span",{className:"text-4xl font-bold",children:[c,":",l<10?"0":"",l]})]},`${c}:${l<10?"0":""}${l}`),e.jsx("div",{className:"mt-4",children:e.jsx(Z,{value:y?100:100-B,className:"h-2"})}),!y&&e.jsxs(ae.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-4 text-sm text-gray-500 italic",children:['"',h,'"']},h),e.jsx("div",{className:"mt-4 flex space-x-2 justify-center",children:y?e.jsxs(U,{onClick:R,variant:"default",size:"sm",children:[e.jsx(we,{className:"h-4 w-4 mr-1"}),E.startNew]}):e.jsxs(e.Fragment,{children:[g?e.jsxs(U,{onClick:C,variant:"outline",size:"sm",children:[e.jsx(Na,{className:"h-4 w-4 mr-1"}),E.pauseTimer]}):e.jsxs(U,{onClick:u,variant:"default",size:"sm",children:[e.jsx(Ma,{className:"h-4 w-4 mr-1"}),E.startTimer]}),e.jsxs(U,{onClick:R,variant:"outline",size:"sm",children:[e.jsx(we,{className:"h-4 w-4 mr-1"}),E.resetTimer]})]})})]})]})]})},Sa=()=>{const[c,n]=b.useState(0),[l,k]=b.useState(8),[g,v]=b.useState(!1),[S,_]=b.useState(!1),{language:h}=le();b.useEffect(()=>{const u=localStorage.getItem("waterIntake");u&&n(parseInt(u,10)),I();const C=setInterval(()=>{c<l&&(_(!0),setTimeout(()=>_(!1),1e4))},60*60*1e3);return()=>clearInterval(C)},[c,l]),b.useEffect(()=>{localStorage.setItem("waterIntake",c.toString())},[c]);const I=async()=>{try{const u=await sa();u>0&&n(u)}catch(u){console.error("Error loading water intake:",u)}},y={en:{title:"Hydration Tracker",goal:"Daily Goal",cups:"cups",progress:"Progress",drinkWater:"Drink Water",reset:"Reset",wellHydrated:"Well Hydrated!",keepDrinking:"Keep Drinking!",setGoal:"Set Goal",saveProgress:"Save Progress",reminder:"Time to drink some water!",saved:"Water intake saved successfully!"},fr:{title:"Suivi d'Hydratation",goal:"Objectif Quotidien",cups:"verres",progress:"ProgrÃ¨s",drinkWater:"Boire de l'Eau",reset:"RÃ©initialiser",wellHydrated:"Bien HydratÃ©(e) !",keepDrinking:"Continuez Ã  Boire !",setGoal:"DÃ©finir l'Objectif",saveProgress:"Sauvegarder",reminder:"C'est l'heure de boire un peu d'eau !",saved:"Consommation d'eau enregistrÃ©e avec succÃ¨s !"}},r=y[h]||y.en,w=Math.min(c/l*100,100),L=()=>{n(u=>Math.min(u+1,l))},A=()=>{n(u=>Math.max(u-1,0))},B=()=>{n(0)},j=u=>{const C=parseInt(u.target.value,10);!isNaN(C)&&C>0&&k(C)},E=async()=>{v(!0);try{await ra(c),X.success(r.saved)}catch(u){console.error("Error saving water intake:",u),X.error("Error",{description:"Failed to save water intake."})}finally{v(!1)}};return e.jsxs(se,{className:"w-full relative overflow-visible shadow-lg",children:[e.jsx(re,{children:e.jsxs(te,{className:"flex items-center",children:[e.jsx(ma,{className:"mr-2 text-blue-500"}),r.title]})}),e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"dailyGoal",className:"block text-sm font-medium text-gray-700",children:[r.goal," (",r.cups,")"]}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("input",{type:"number",name:"dailyGoal",id:"dailyGoal",className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-3 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"8",min:"1",value:l,onChange:j}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:r.cups})})]})]}),e.jsx("div",{className:"relative h-48 w-48 mx-auto mb-4",children:e.jsxs("div",{className:"absolute inset-0 bg-blue-100 rounded-full flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:e.jsx(ae.div,{className:"absolute bottom-0 left-0 w-full bg-blue-500",initial:{height:"0%"},animate:{height:`${w}%`},transition:{duration:.5},children:e.jsx(ae.div,{className:"absolute top-0 left-0 w-full h-4 bg-blue-300 opacity-50",animate:{translateX:["-25%","25%","-25%"]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})})}),e.jsxs("div",{className:"z-10 flex flex-col items-center",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[c," / ",l]}),e.jsx("span",{className:"text-sm",children:r.cups})]})]})}),e.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[e.jsx(U,{onClick:A,variant:"destructive",size:"sm",className:"rounded-full w-10 h-10 p-0 flex items-center justify-center",children:"-"}),e.jsx(U,{onClick:L,variant:"default",size:"sm",className:"rounded-full w-10 h-10 p-0 flex items-center justify-center bg-blue-500 hover:bg-blue-600",children:"+"})]}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(U,{onClick:B,variant:"outline",size:"sm",children:r.reset}),e.jsxs(U,{onClick:E,variant:"default",size:"sm",disabled:g,className:"bg-blue-500 hover:bg-blue-600",children:[g?e.jsx("div",{className:"h-4 w-4 border-2 border-t-transparent border-blue-200 rounded-full animate-spin mr-2"}):null,r.saveProgress]})]}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[r.progress,": ",w.toFixed(0),"%"]}),e.jsx("p",{className:"text-lg font-semibold text-blue-700",children:w===100?r.wellHydrated:r.keepDrinking})]})]}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(ha,{size:24,className:w===100?"text-green-500":"text-blue-500",fill:w===100?"green":"blue",strokeWidth:w===100?0:2})}),e.jsx(qe,{children:S&&e.jsxs(ae.div,{className:"absolute top-0 right-0 transform -translate-y-full bg-blue-500 text-white p-3 rounded-t-lg flex items-center shadow-lg",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.3},children:[e.jsx($e,{className:"mr-2",size:16}),r.reminder]})})]})},Ta=()=>{const{language:c}=le(),{isMobile:n,isTablet:l}=he(),[k,g]=b.useState([]),[v,S]=b.useState({calories_percentage:0,water_percentage:0,sleep_percentage:0,exercise_percentage:0}),[_,h]=b.useState({achievements:!0,progress:!0}),I={en:{dashboard:"Nutrition Dashboard",dailyProgress:"Daily Tools",summary:"Progress Summary",achievements:"Achievements",calories:"Calories",water:"Water",sleep:"Sleep",exercise:"Exercise",noAchievements:"No achievements yet. Complete challenges to earn achievements!",achievementEarned:"Earned on",loading:"Loading..."},fr:{dashboard:"Tableau de Bord Nutritionnel",dailyProgress:"Outils Quotidiens",summary:"RÃ©sumÃ© des ProgrÃ¨s",achievements:"RÃ©ussites",calories:"Calories",water:"Eau",sleep:"Sommeil",exercise:"Exercice",noAchievements:"Pas encore de rÃ©ussites. ComplÃ©tez des dÃ©fis pour gagner des rÃ©ussites!",achievementEarned:"Obtenu le",loading:"Chargement..."}},y=I[c]||I.en;b.useEffect(()=>{(async()=>{try{const{data:A}=await ee.auth.getSession();if(!A.session)return;const B=A.session.user.id;h(R=>({...R,achievements:!0}));const{data:j,error:E}=await ee.from("user_badges").select(`
            id,
            unlocked_at,
            badge:badge_id (
              id,
              name,
              description,
              icon
            )
          `).eq("user_id",B).order("unlocked_at",{ascending:!1}).limit(4);if(E)console.error("Error fetching achievements:",E);else if(j){const R=j.map(q=>{var O,$,ie;return{id:q.id,name:((O=q.badge)==null?void 0:O.name)||"",description:(($=q.badge)==null?void 0:$.description)||"",icon:((ie=q.badge)==null?void 0:ie.icon)||"award",earned_at:q.unlocked_at}});g(R)}h(R=>({...R,achievements:!1})),h(R=>({...R,progress:!0}));const{data:u,error:C}=await ee.from("daily_progress").select("*").eq("user_id",B).order("date",{ascending:!1}).limit(1);C?console.error("Error fetching progress data:",C):u&&u.length>0&&S({calories_percentage:u[0].calories_goal_percentage||0,water_percentage:u[0].water_goal_percentage||0,sleep_percentage:u[0].sleep_goal_percentage||0,exercise_percentage:u[0].exercise_goal_percentage||0}),h(R=>({...R,progress:!1}))}catch(A){console.error("Error in fetchUserData:",A),h({achievements:!1,progress:!1})}})()},[]);const r=()=>_.progress?e.jsxs("div",{className:"space-y-4",children:[e.jsx(W,{className:"h-4 w-full"}),e.jsx(W,{className:"h-12 w-full"}),e.jsx(W,{className:"h-4 w-full"}),e.jsx(W,{className:"h-12 w-full"}),e.jsx(W,{className:"h-4 w-full"}),e.jsx(W,{className:"h-12 w-full"}),e.jsx(W,{className:"h-4 w-full"}),e.jsx(W,{className:"h-12 w-full"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm font-medium",children:y.calories}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(v.calories_percentage),"%"]})]}),e.jsx(Z,{value:v.calories_percentage,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm font-medium",children:y.water}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(v.water_percentage),"%"]})]}),e.jsx(Z,{value:v.water_percentage,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm font-medium",children:y.sleep}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(v.sleep_percentage),"%"]})]}),e.jsx(Z,{value:v.sleep_percentage,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm font-medium",children:y.exercise}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(v.exercise_percentage),"%"]})]}),e.jsx(Z,{value:v.exercise_percentage,className:"h-2"})]})]}),w=()=>_.achievements?e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-4",children:[e.jsx(W,{className:"h-32 w-full"}),e.jsx(W,{className:"h-32 w-full"}),e.jsx(W,{className:"h-32 w-full"}),e.jsx(W,{className:"h-32 w-full"})]}):k.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-48",children:[e.jsx(Ce,{className:"h-12 w-12 text-gray-300 mb-2"}),e.jsx("p",{className:"text-gray-500 text-center",children:y.noAchievements})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-4",children:k.map(L=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 flex flex-col items-center text-center",children:[e.jsx("div",{className:"rounded-full bg-green-100 dark:bg-green-900 p-2 mb-2",children:e.jsx(me,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsx("h4",{className:"font-semibold text-sm",children:L.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:L.description}),e.jsxs(Ze,{variant:"outline",className:"mt-2 text-xs",children:[y.achievementEarned," ",new Date(L.earned_at).toLocaleDateString()]})]},L.id))});return e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs(se,{children:[e.jsx(re,{className:"pb-2 sm:pb-3",children:e.jsxs(te,{className:"text-lg font-medium flex items-center",children:[e.jsx(ke,{className:"mr-2 h-5 w-5"}),y.dashboard]})}),e.jsx(ne,{children:e.jsxs(Se,{defaultValue:"daily",className:"space-y-4 sm:space-y-6",children:[e.jsxs(Te,{children:[e.jsxs(Q,{value:"daily",className:"flex items-center",children:[e.jsx(ba,{className:"h-4 w-4 mr-2"}),n?"":y.dailyProgress]}),e.jsxs(Q,{value:"summary",children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),n?"":y.summary]}),e.jsxs(Q,{value:"achievements",className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),n?"":y.achievements]})]}),e.jsx(Y,{value:"daily",className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(Ca,{}),e.jsx(Sa,{}),e.jsx(ua,{})]})}),e.jsx(Y,{value:"summary",children:e.jsx("div",{className:"min-h-[300px] sm:min-h-[400px]",children:r()})}),e.jsx(Y,{value:"achievements",children:e.jsx("div",{className:"min-h-[300px] sm:min-h-[400px]",children:w()})})]})})]})})},Pa=c=>new Date(c).toLocaleDateString("en-US",{weekday:"short"}),Ia=()=>{const[c,n]=b.useState([]),[l,k]=b.useState(!0),[g,v]=b.useState({water:0,sleep:0,calories:0,exercise:0,overall:0});b.useEffect(()=>{S()},[]);const S=async()=>{try{const{data:{user:h}}=await ee.auth.getUser();if(!h){k(!1);return}const I=new Date,y=new Date;y.setDate(y.getDate()-6);const{data:r,error:w}=await ee.from("daily_progress").select("*").eq("user_id",h.id).gte("date",y.toISOString().split("T")[0]).lte("date",I.toISOString().split("T")[0]).order("date",{ascending:!0});if(w)throw w;if(r){n(r);const L=r.reduce((u,C)=>u+(C.water_goal_percentage||0),0),A=r.reduce((u,C)=>u+(C.sleep_goal_percentage||0),0),B=r.reduce((u,C)=>u+(C.calories_goal_percentage||0),0),j=r.reduce((u,C)=>u+(C.exercise_goal_percentage||0),0),E=r.reduce((u,C)=>u+(C.overall_progress_percentage||0),0);v({water:Math.round(L/r.length)||0,sleep:Math.round(A/r.length)||0,calories:Math.round(B/r.length)||0,exercise:Math.round(j/r.length)||0,overall:Math.round(E/r.length)||0})}}catch(h){console.error("Error fetching weekly data:",h)}finally{k(!1)}},_=c.map(h=>({date:Pa(h.date),water:h.water_goal_percentage||0,sleep:h.sleep_goal_percentage||0,calories:h.calories_goal_percentage||0,exercise:h.exercise_goal_percentage||0,overall:h.overall_progress_percentage||0}));return e.jsx("div",{className:"space-y-6",children:e.jsxs(se,{children:[e.jsx(re,{children:e.jsxs(te,{className:"flex items-center gap-2",children:[e.jsx(ja,{className:"h-5 w-5 text-primary"}),"Weekly Health Summary"]})}),e.jsx(ne,{children:l?e.jsx("p",{className:"text-center py-4",children:"Loading your weekly data..."}):c.length===0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{children:"No data available for this week yet."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Complete your daily goals to see your progress here!"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-64 w-full",children:e.jsx(xa,{width:"100%",height:"100%",children:e.jsxs(ta,{data:_,margin:{top:5,right:5,left:0,bottom:5},children:[e.jsx(na,{strokeDasharray:"3 3",opacity:.3}),e.jsx(ia,{dataKey:"date"}),e.jsx(la,{tickFormatter:h=>`${h}%`}),e.jsx(fa,{formatter:h=>[`${h}%`,""],labelFormatter:h=>`${h}`}),e.jsx(oa,{type:"monotone",dataKey:"overall",stroke:"#8B5CF6",strokeWidth:2,activeDot:{r:6}})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(be,{className:"h-4 w-4"})," Overall"]}),e.jsxs("span",{children:[g.overall,"%"]})]}),e.jsx(Z,{value:g.overall,className:"h-2",indicatorClassName:"bg-primary"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Qe,{className:"h-4 w-4"})," Exercise"]}),e.jsxs("span",{children:[g.exercise,"%"]})]}),e.jsx(Z,{value:g.exercise,className:"h-2",indicatorClassName:"bg-nutrition-protein"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(pa,{className:"h-4 w-4"})," Sleep"]}),e.jsxs("span",{children:[g.sleep,"%"]})]}),e.jsx(Z,{value:g.sleep,className:"h-2",indicatorClassName:"bg-blue-500"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(be,{className:"h-4 w-4"})," Calories"]}),e.jsxs("span",{children:[g.calories,"%"]})]}),e.jsx(Z,{value:g.calories,className:"h-2",indicatorClassName:"bg-nutrition-carbs"})]})]})]})})]})})},Ne=[{emoji:"ðŸ˜‹",mood:"delicious",description:"Absolutely loved it!"},{emoji:"ðŸ˜Š",mood:"satisfied",description:"Pretty good"},{emoji:"ðŸ˜",mood:"neutral",description:"It was okay"},{emoji:"ðŸ˜ž",mood:"unsatisfied",description:"Not great"},{emoji:"ðŸ¤¢",mood:"terrible",description:"Did not enjoy at all"}],_a=({meal:c,onSave:n})=>{var y;const[l,k]=b.useState(null),[g,v]=b.useState(""),[S,_]=b.useState(!1),h=r=>{k(r)},I=async()=>{if(!(!l||!c)){_(!0);try{const{data:{user:r}}=await ee.auth.getUser();if(!r){X.error("You need to be signed in to track your mood");return}const{error:w}=await ee.from("meal_moods").insert({user_id:r.id,meal_id:c.id,meal_name:c.name,mood:l,notes:g});if(w)throw w;X.success("Mood saved successfully!"),k(null),v(""),n&&n()}catch(r){console.error("Error saving mood:",r),X.error("Failed to save your mood")}finally{_(!1)}}};return e.jsxs(se,{className:"w-full max-w-md mx-auto",children:[e.jsx(re,{children:e.jsx(te,{className:"text-lg text-center",children:c?`How did you feel after eating ${c.name}?`:"How did your meal make you feel?"})}),e.jsxs(ne,{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center space-x-2",children:Ne.map(r=>e.jsx(U,{variant:l===r.mood?"default":"outline",className:`text-2xl h-14 w-14 p-0 ${l===r.mood?"ring-2 ring-primary":""}`,onClick:()=>h(r.mood),title:r.description,children:r.emoji},r.mood))}),l&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("p",{className:"text-center mb-2",children:(y=Ne.find(r=>r.mood===l))==null?void 0:y.description}),e.jsx(va,{placeholder:"Any additional notes about this meal?",value:g,onChange:r=>v(r.target.value),className:"w-full"})]})]}),e.jsx(Je,{className:"justify-center",children:e.jsx(U,{disabled:!l||S,onClick:I,className:"w-full",children:S?"Saving...":"Save Mood"})})]})};var xe={};(function c(n,l,k,g){var v=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL),S=typeof Path2D=="function"&&typeof DOMMatrix=="function",_=function(){if(!n.OffscreenCanvas)return!1;var s=new OffscreenCanvas(1,1),a=s.getContext("2d");a.fillRect(0,0,1,1);var t=s.transferToImageBitmap();try{a.createPattern(t,"no-repeat")}catch{return!1}return!0}();function h(){}function I(s){var a=l.exports.Promise,t=a!==void 0?a:n.Promise;return typeof t=="function"?new t(s):(s(h,h),null)}var y=function(s,a){return{transform:function(t){if(s)return t;if(a.has(t))return a.get(t);var o=new OffscreenCanvas(t.width,t.height),d=o.getContext("2d");return d.drawImage(t,0,0),a.set(t,o),o},clear:function(){a.clear()}}}(_,new Map),r=function(){var s=Math.floor(16.666666666666668),a,t,o={},d=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(a=function(m){var x=Math.random();return o[x]=requestAnimationFrame(function i(f){d===f||d+s-1<f?(d=f,delete o[x],m()):o[x]=requestAnimationFrame(i)}),x},t=function(m){o[m]&&cancelAnimationFrame(o[m])}):(a=function(m){return setTimeout(m,s)},t=function(m){return clearTimeout(m)}),{frame:a,cancel:t}}(),w=function(){var s,a,t={};function o(d){function m(x,i){d.postMessage({options:x||{},callback:i})}d.init=function(i){var f=i.transferControlToOffscreen();d.postMessage({canvas:f},[f])},d.fire=function(i,f,N){if(a)return m(i,null),a;var T=Math.random().toString(36).slice(2);return a=I(function(M){function P(D){D.data.callback===T&&(delete t[T],d.removeEventListener("message",P),a=null,y.clear(),N(),M())}d.addEventListener("message",P),m(i,T),t[T]=P.bind(null,{data:{callback:T}})}),a},d.reset=function(){d.postMessage({reset:!0});for(var i in t)t[i](),delete t[i]}}return function(){if(s)return s;if(!k&&v){var d=["var CONFETTI, SIZE = {}, module = {};","("+c.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{s=new Worker(URL.createObjectURL(new Blob([d])))}catch(m){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",m),null}o(s)}return s}}(),L={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function A(s,a){return a?a(s):s}function B(s){return s!=null}function j(s,a,t){return A(s&&B(s[a])?s[a]:L[a],t)}function E(s){return s<0?0:Math.floor(s)}function u(s,a){return Math.floor(Math.random()*(a-s))+s}function C(s){return parseInt(s,16)}function R(s){return s.map(q)}function q(s){var a=String(s).replace(/[^0-9a-f]/gi,"");return a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),{r:C(a.substring(0,2)),g:C(a.substring(2,4)),b:C(a.substring(4,6))}}function O(s){var a=j(s,"origin",Object);return a.x=j(a,"x",Number),a.y=j(a,"y",Number),a}function $(s){s.width=document.documentElement.clientWidth,s.height=document.documentElement.clientHeight}function ie(s){var a=s.getBoundingClientRect();s.width=a.width,s.height=a.height}function Pe(s){var a=document.createElement("canvas");return a.style.position="fixed",a.style.top="0px",a.style.left="0px",a.style.pointerEvents="none",a.style.zIndex=s,a}function Ie(s,a,t,o,d,m,x,i,f){s.save(),s.translate(a,t),s.rotate(m),s.scale(o,d),s.arc(0,0,1,x,i,f),s.restore()}function _e(s){var a=s.angle*(Math.PI/180),t=s.spread*(Math.PI/180);return{x:s.x,y:s.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:s.startVelocity*.5+Math.random()*s.startVelocity,angle2D:-a+(.5*t-Math.random()*t),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:s.color,shape:s.shape,tick:0,totalTicks:s.ticks,decay:s.decay,drift:s.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:s.gravity*3,ovalScalar:.6,scalar:s.scalar,flat:s.flat}}function Ee(s,a){a.x+=Math.cos(a.angle2D)*a.velocity+a.drift,a.y+=Math.sin(a.angle2D)*a.velocity+a.gravity,a.velocity*=a.decay,a.flat?(a.wobble=0,a.wobbleX=a.x+10*a.scalar,a.wobbleY=a.y+10*a.scalar,a.tiltSin=0,a.tiltCos=0,a.random=1):(a.wobble+=a.wobbleSpeed,a.wobbleX=a.x+10*a.scalar*Math.cos(a.wobble),a.wobbleY=a.y+10*a.scalar*Math.sin(a.wobble),a.tiltAngle+=.1,a.tiltSin=Math.sin(a.tiltAngle),a.tiltCos=Math.cos(a.tiltAngle),a.random=Math.random()+2);var t=a.tick++/a.totalTicks,o=a.x+a.random*a.tiltCos,d=a.y+a.random*a.tiltSin,m=a.wobbleX+a.random*a.tiltCos,x=a.wobbleY+a.random*a.tiltSin;if(s.fillStyle="rgba("+a.color.r+", "+a.color.g+", "+a.color.b+", "+(1-t)+")",s.beginPath(),S&&a.shape.type==="path"&&typeof a.shape.path=="string"&&Array.isArray(a.shape.matrix))s.fill(Ae(a.shape.path,a.shape.matrix,a.x,a.y,Math.abs(m-o)*.1,Math.abs(x-d)*.1,Math.PI/10*a.wobble));else if(a.shape.type==="bitmap"){var i=Math.PI/10*a.wobble,f=Math.abs(m-o)*.1,N=Math.abs(x-d)*.1,T=a.shape.bitmap.width*a.scalar,M=a.shape.bitmap.height*a.scalar,P=new DOMMatrix([Math.cos(i)*f,Math.sin(i)*f,-Math.sin(i)*N,Math.cos(i)*N,a.x,a.y]);P.multiplySelf(new DOMMatrix(a.shape.matrix));var D=s.createPattern(y.transform(a.shape.bitmap),"no-repeat");D.setTransform(P),s.globalAlpha=1-t,s.fillStyle=D,s.fillRect(a.x-T/2,a.y-M/2,T,M),s.globalAlpha=1}else if(a.shape==="circle")s.ellipse?s.ellipse(a.x,a.y,Math.abs(m-o)*a.ovalScalar,Math.abs(x-d)*a.ovalScalar,Math.PI/10*a.wobble,0,2*Math.PI):Ie(s,a.x,a.y,Math.abs(m-o)*a.ovalScalar,Math.abs(x-d)*a.ovalScalar,Math.PI/10*a.wobble,0,2*Math.PI);else if(a.shape==="star")for(var p=Math.PI/2*3,F=4*a.scalar,z=8*a.scalar,H=a.x,V=a.y,J=5,G=Math.PI/J;J--;)H=a.x+Math.cos(p)*z,V=a.y+Math.sin(p)*z,s.lineTo(H,V),p+=G,H=a.x+Math.cos(p)*F,V=a.y+Math.sin(p)*F,s.lineTo(H,V),p+=G;else s.moveTo(Math.floor(a.x),Math.floor(a.y)),s.lineTo(Math.floor(a.wobbleX),Math.floor(d)),s.lineTo(Math.floor(m),Math.floor(x)),s.lineTo(Math.floor(o),Math.floor(a.wobbleY));return s.closePath(),s.fill(),a.tick<a.totalTicks}function De(s,a,t,o,d){var m=a.slice(),x=s.getContext("2d"),i,f,N=I(function(T){function M(){i=f=null,x.clearRect(0,0,o.width,o.height),y.clear(),d(),T()}function P(){k&&!(o.width===g.width&&o.height===g.height)&&(o.width=s.width=g.width,o.height=s.height=g.height),!o.width&&!o.height&&(t(s),o.width=s.width,o.height=s.height),x.clearRect(0,0,o.width,o.height),m=m.filter(function(D){return Ee(x,D)}),m.length?i=r.frame(P):M()}i=r.frame(P),f=M});return{addFettis:function(T){return m=m.concat(T),N},canvas:s,promise:N,reset:function(){i&&r.cancel(i),f&&f()}}}function fe(s,a){var t=!s,o=!!j(a||{},"resize"),d=!1,m=j(a,"disableForReducedMotion",Boolean),x=v&&!!j(a||{},"useWorker"),i=x?w():null,f=t?$:ie,N=s&&i?!!s.__confetti_initialized:!1,T=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,M;function P(p,F,z){for(var H=j(p,"particleCount",E),V=j(p,"angle",Number),J=j(p,"spread",Number),G=j(p,"startVelocity",Number),Fe=j(p,"decay",Number),Be=j(p,"gravity",Number),Oe=j(p,"drift",Number),pe=j(p,"colors",R),We=j(p,"ticks",Number),ve=j(p,"shapes"),ze=j(p,"scalar"),He=!!j(p,"flat"),ye=O(p),je=H,ce=[],Ge=s.width*ye.x,Ue=s.height*ye.y;je--;)ce.push(_e({x:Ge,y:Ue,angle:V,spread:J,startVelocity:G,color:pe[je%pe.length],shape:ve[u(0,ve.length)],ticks:We,decay:Fe,gravity:Be,drift:Oe,scalar:ze,flat:He}));return M?M.addFettis(ce):(M=De(s,ce,f,F,z),M.promise)}function D(p){var F=m||j(p,"disableForReducedMotion",Boolean),z=j(p,"zIndex",Number);if(F&&T)return I(function(G){G()});t&&M?s=M.canvas:t&&!s&&(s=Pe(z),document.body.appendChild(s)),o&&!N&&f(s);var H={width:s.width,height:s.height};i&&!N&&i.init(s),N=!0,i&&(s.__confetti_initialized=!0);function V(){if(i){var G={getBoundingClientRect:function(){if(!t)return s.getBoundingClientRect()}};f(G),i.postMessage({resize:{width:G.width,height:G.height}});return}H.width=H.height=null}function J(){M=null,o&&(d=!1,n.removeEventListener("resize",V)),t&&s&&(document.body.contains(s)&&document.body.removeChild(s),s=null,N=!1)}return o&&!d&&(d=!0,n.addEventListener("resize",V,!1)),i?i.fire(p,H,J):P(p,H,J)}return D.reset=function(){i&&i.reset(),M&&M.reset()},D}var oe;function ge(){return oe||(oe=fe(null,{useWorker:!0,resize:!0})),oe}function Ae(s,a,t,o,d,m,x){var i=new Path2D(s),f=new Path2D;f.addPath(i,new DOMMatrix(a));var N=new Path2D;return N.addPath(f,new DOMMatrix([Math.cos(x)*d,Math.sin(x)*d,-Math.sin(x)*m,Math.cos(x)*m,t,o])),N}function Le(s){if(!S)throw new Error("path confetti are not supported in this browser");var a,t;typeof s=="string"?a=s:(a=s.path,t=s.matrix);var o=new Path2D(a),d=document.createElement("canvas"),m=d.getContext("2d");if(!t){for(var x=1e3,i=x,f=x,N=0,T=0,M,P,D=0;D<x;D+=2)for(var p=0;p<x;p+=2)m.isPointInPath(o,D,p,"nonzero")&&(i=Math.min(i,D),f=Math.min(f,p),N=Math.max(N,D),T=Math.max(T,p));M=N-i,P=T-f;var F=10,z=Math.min(F/M,F/P);t=[z,0,0,z,-Math.round(M/2+i)*z,-Math.round(P/2+f)*z]}return{type:"path",path:a,matrix:t}}function Re(s){var a,t=1,o="#000000",d='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof s=="string"?a=s:(a=s.text,t="scalar"in s?s.scalar:t,d="fontFamily"in s?s.fontFamily:d,o="color"in s?s.color:o);var m=10*t,x=""+m+"px "+d,i=new OffscreenCanvas(m,m),f=i.getContext("2d");f.font=x;var N=f.measureText(a),T=Math.ceil(N.actualBoundingBoxRight+N.actualBoundingBoxLeft),M=Math.ceil(N.actualBoundingBoxAscent+N.actualBoundingBoxDescent),P=2,D=N.actualBoundingBoxLeft+P,p=N.actualBoundingBoxAscent+P;T+=P+P,M+=P+P,i=new OffscreenCanvas(T,M),f=i.getContext("2d"),f.font=x,f.fillStyle=o,f.fillText(a,D,p);var F=1/t;return{type:"bitmap",bitmap:i.transferToImageBitmap(),matrix:[F,0,0,F,-T*F/2,-M*F/2]}}l.exports=function(){return ge().apply(this,arguments)},l.exports.reset=function(){ge().reset()},l.exports.create=fe,l.exports.shapeFromPath=Le,l.exports.shapeFromText=Re})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),xe,!1);const Me=xe.exports;xe.exports.create;const Ea=({message:c="TASTEHEALTH"})=>{const n=c,{isMobile:l,isTablet:k}=he();return b.useEffect(()=>{const v=Date.now()+2e3,S=l?3:k?4:5;(function _(){Me({particleCount:S,angle:60,spread:55,origin:{x:0}}),Me({particleCount:S,angle:120,spread:55,origin:{x:1}}),Date.now()<v&&requestAnimationFrame(_)})()},[l,k]),e.jsx("div",{className:"scene",children:e.jsx("div",{className:"animated-text",children:n.split("").map((g,v)=>e.jsx("span",{className:`letter color-${v%6}`,children:g},v))})})},Da=async()=>{try{const{data:c,error:n}=await ue.functions.invoke("fix-gamification-data");return n?(console.error("Error fixing gamification data:",n),{success:!1,message:n.message}):c}catch(c){return console.error("Error invoking fix-gamification-data function:",c),{success:!1,message:"Failed to fix gamification data"}}},Aa=async c=>{try{const{data:n,error:l}=await ue.from("user_points").select("*").eq("user_id",c).maybeSingle();return l&&l.code!=="PGRST116"&&console.error("Error checking user points:",l),n?!0:(await Da()).success}catch(n){return console.error("Error checking gamification data:",n),!1}},ys=()=>{const{language:c}=le(),[n,l]=b.useState(!1),[k,g]=b.useState("dashboard"),[v,S]=b.useState(!0),[_,h]=b.useState(!1),{isMobile:I,isTablet:y}=he(),r={en:{title:"Health Dashboard",subtitle:"Track your nutrition and health metrics",tabs:{dashboard:"Dashboard",rewards:"Rewards",summary:"Weekly Summary",mood:"Mood Tracker",challenges:"Challenges"}},fr:{title:"Tableau de Bord SantÃ©",subtitle:"Suivez vos indicateurs de nutrition et de santÃ©",tabs:{dashboard:"Tableau de Bord",rewards:"RÃ©compenses",summary:"RÃ©sumÃ© Hebdomadaire",mood:"Suivi de l'Humeur",challenges:"DÃ©fis"}}},w=r[c]||r.en;return b.useEffect(()=>{(async()=>{S(!0);const{data:A}=await ue.auth.getSession(),B=!!A.session;l(B),B?(await Aa(A.session.user.id),h(!0),X.success("Welcome to your Health Dashboard!",{description:"Track your progress and stay motivated."}),setTimeout(()=>{h(!1),S(!1)},2500)):S(!1)})()},[]),v&&_?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx(Ea,{})}):v?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col md:flex-row",children:[e.jsx(Ye,{activePage:"dashboard"}),e.jsx("div",{className:`flex-1 p-3 sm:p-4 ${I?"mt-16":"md:ml-64"}`,children:e.jsxs("div",{className:"p-2 sm:p-4 max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-1",children:w.title}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4 sm:mb-6",children:w.subtitle}),e.jsxs(Se,{defaultValue:"dashboard",value:k,onValueChange:g,className:"space-y-4 sm:space-y-6",children:[e.jsxs(Te,{className:"w-full max-w-3xl mx-auto",children:[e.jsxs(Q,{value:"dashboard",className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),!I&&w.tabs.dashboard]}),e.jsxs(Q,{value:"rewards",className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4"}),!I&&w.tabs.rewards]}),e.jsxs(Q,{value:"summary",className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),!I&&w.tabs.summary]}),e.jsxs(Q,{value:"mood",className:"flex items-center gap-2",children:[e.jsx(ka,{className:"h-4 w-4"}),!I&&w.tabs.mood]}),e.jsxs(Q,{value:"challenges",className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),!I&&w.tabs.challenges]})]}),e.jsx(Y,{value:"dashboard",className:"space-y-6 sm:space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[e.jsx(ca,{}),e.jsx(da,{}),e.jsx(Ta,{})]})}),e.jsx(Y,{value:"rewards",children:e.jsx(ga,{})}),e.jsx(Y,{value:"summary",children:n?e.jsx(Ia,{}):e.jsx("p",{className:"text-center text-gray-500",children:"Please log in to view your weekly summary."})}),e.jsx(Y,{value:"mood",children:n?e.jsx(_a,{}):e.jsx("p",{className:"text-center text-gray-500",children:"Please log in to track your mood."})}),e.jsx(Y,{value:"challenges",children:n?e.jsx(ya,{}):e.jsx("p",{className:"text-center text-gray-500",children:"Please log in to create and view challenges."})})]})]})})]})};export{ys as default};
