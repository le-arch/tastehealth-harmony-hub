import{c}from"./index-wx0cpdQ-.js";import{s as t}from"./SupabaseClient-C5AFRzKB.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=c("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),_=async r=>{const{data:a,error:e}=await t.rpc("create_nutrition_challenge",{p_user_id:r.user_id,p_name:r.name,p_types:r.types,p_duration_days:r.duration_days,p_difficulty_level:r.difficulty_level});if(e)throw console.error("Error creating nutrition challenge:",e),e;return a},d=async r=>{const{data:a,error:e}=await t.from("nutrition_challenges").select("*").eq("user_id",r).order("created_at",{ascending:!1});if(e)throw console.error("Error fetching challenges:",e),e;const{data:o,error:s}=await t.from("challenge_progress").select("*").eq("user_id",r).in("challenge_id",a.map(n=>n.id));if(s)throw console.error("Error fetching challenge progress:",s),s;return{challenges:a,progress:o}},g=async(r,a)=>{const{data:e,error:o}=await t.rpc("complete_challenge_task",{p_user_id:r,p_challenge_id:a});if(o)throw console.error("Error completing challenge task:",o),o;return e};export{p as C,g as a,_ as c,d as g};
